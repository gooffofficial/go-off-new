<html>
    <head>
        <link rel="stylesheet" href="/css/profile_edit.css">
    </head>
    <body>
        <!-- Top bar -->
        <a href="https://www.gooffco.com/">
            <div class="logo">
                <img src="/GO_Off.png"/>
            </div>
        </a>
    
    
        <div class="droparrow">
            <button onclick="dropclick1()" class="dropBtn">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEX///8AAAB8fHzT09N+fn56enra2trW1tZxcXF0dHR3d3evr6/S0tJubm6CgoKtra1JiZe/AAADV0lEQVR4nO3c227bMAyA4TrnpNv6/m+7aZrqKGZs2daB1P7vdi4ggqRIocU+PgAAAAAAAAAAAAAAAAAAAAAAAID/we3a+gQbXG/p396H4VjuJIUch+Ge+u2fAIfBWhav7tCPtG9/Dn9dyp4os4s/dFKh3od/LGXxGg6dUKiP4ZudXjyOh14s1PvwxEoWr8+HXsjibYjY6MVLfOjZXnwMLywU6vH10DOF+vn6rYVCvU4P/fn+60kO9RfqZXrk89z3B2tZFDJ4mP8JIUTNvTjpwcUAjWVRyOBp+afOdnpR6MHFDDpCiDqzKGRw9pIZnWz0otCDCSXqCb2or1C3lqhnIMR9ARoYGlvGREx5L+7pwUD10Fi7qskUj/71q5pMbaHmKFFPaRZzZdBROTT2jomYcN20LlShRDdcMiN1vZivBwNlQyPPmIip6sW8PRgoWuD2r2oyoRfbDI1tL/oUSnqxTIl6Kl79OQf9lIKhkX9MxJovcGUz6DQeGiV7MGi6wOVe1WQNe7F0DwbNhkaJVU3W6Lopf8mMmixwpVY1WYMFrtyqJqs+NGqMiVjlBW77L1+2qzo0ao2JWMVCrV+iXrUQWwVYbWjUHROxKr3YpgeDCgtcvVVNVnyBq7mqyQoXatsS9YoucLVXNVnBodFuTMSKvfrrvOhTFOpFDT0YFBkaWkrUK9CLQoDNMuhkX+BarmqyzENDx5iIZe1FXT0YZFzg2q9qsmxDQ9OYiGXqRY09GAghru9FbWMilmGB07OqyXb3ot4eDHYOjdYv+hS7rhvNl8xoR6HqL1FvcxZtZNDZ+NLQuarJNi1wWlc12YZetNKDweos2sqgs3KB072qyVa9+vW96FOs6EVrPRgkL3AWVjVZ4nVj75IZJRWq1RL1EhY42wEmLHCWS9Rb+LubH9N/NnLJjGZ7UQjQVIl6M4Vqv0S9twucnffgkjcLnFCiJjPoiL3YRw8Gwo0q/C8/5m7RZ0Kh9lOinlCo/ZSotxSi+QCXQuwgQPG6+Wb6khm9z2IXGXTeZdH4LfpMzmI3GXSkELsKUAqxswCn201HPRgceg8wLtTuStQbQ/zV+iilnHoPMPRipyXqnfrOoHPuO4POV+sDAAAAAAAAAAAAAAAAAAAAAAAAoHe/AQQRFMg6Uc/3AAAAAElFTkSuQmCC" width="20" height="20">
                <div id="arrowdrop" class="dropdown-arrowcontent">
                    <a href="/profile">Go to Profile</a>
                    <a href="/profile_edit">Settings and Privacy</a>
                    <!-- <p>Install Chrome Extension</p> -->
                    <p>Log Out</p> 
                </div>
            </button>
        </div>
    
        <div class="fpname">
            <h><span id="fpname"></span></h>
        </div>
    
        <div class="lpname">
            <h><span id="lpname"></span></h>
        </div>
    
        <div class="fprofpic">
            <img id="fprofpic"/>
        </div> 
        
        <!-- <button type="submit" id="Plus">
            <img src="/Plus.jpg" alt="add icon" height="65" width="50">
        </button> -->
    
        <button type="submit" id="Submit" onclick="searchBar()">
            <img src="/Search.png" alt= "profile icon 1" height="40" width="40">
        </button>
    
        <button id="Cancel" onclick="searchBar1()">Cancel</button>
        
    
        <form id="bar_form">
            <input type="text" id="search" style="display: block" placeholder="Filter">
        </form>
    
    
        <div id="line" style="top: 5%;"><hr></div>

        <!-- form to collect data to change -->
        <form action="http://localhost:8000/api/users/update" method="post" class="editProf" enctype="multipart/form-data">

            <h1>Edit Profile</h1>

            <input type="submit" value="Done" id="submitBtn">

            <input type="reset" value="Cancel" id="cancelBtn"><br>

            <p id="desc">Users on Go Off! will be able to view the information you have provided</p>

            <label for="profile-pic">Profile Image</label>
            <img id = "profile-pic"/>
            <input type="file" id="profpicBtn" name="file"><br><br>

            <label for="firstname">First Name</label>
            <input type="text" id="firstname" name="firstname">

            <label for="lastname">Last Name</label>
            <input type="text" id="lastname" name="lastname"><br>

            <label for="bio">About your Profile</label>
            <textarea id="bio" name="bio"></textarea>

            <label for="zipcode">Zip Code</label>Â 
            <input type="text" id="zipdcode" name="zipcode">
        </form>

        <!-- buttons on the side-->
        <a href="profile_edit">
            <button type="submit" id="edit_profile">
                <img src = "/Pen.png" alt="pencil icon" height="20" width="20"/>
                Edit Profile
            </button>
        </a>

        <a href="account_settings">
            <button type="submit" id="account_settings">
                <img src= "https://c8.alamy.com/comp/T2W7K9/person-icon-in-line-style-man-symbol-isolated-on-white-background-simple-avatar-abstract-icon-in-black-user-sign-in-flat-style-vector-illustration-T2W7K9.jpg" alt="person icon" height="20" width="20"/>
                Account Settings
            </button>
        </a>

        <a href="/profiles/<%=user%>">
            <button type="submit" id="back_button">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAb1BMVEX///8AAADv7+/h4eHl5eX29vYkJCSPj4+VlZX5+fkoKCiWlpaSkpLt7e3g4OAsLCzX19fExMR/f38/Pz8aGhpHR0fT09Onp6c6OjpXV1d4eHiGhoYWFhbAwMBgYGAgICALCwuenp62trYzMzMQEBAkEAi9AAADeklEQVR4nO2daXPiMBBEpRzsLhtuCHfCJvz/37g2lU0ItrFai2s0o36fU1R3PTzyEQvnCCGEEEIIIYQQQvJmMp3156PF9lk6SEcs/Sf9vXSYDhis/Dkv0nluzr2/YPQoHem2VAp63zNV8aFa0FbFGoO2KtYaPI3UX9LRbkODQTsWGw2eKhqweMXg6Yuq3mJLwWJdlE74n7QW1H52E1DQe83nqFeHzCev0jHjCTJYMJEOGkuYwYKpdNJIQg16P5OOGkewwQLprFGEG1TaECqosSFW8CAdFwcr6NfSeWGQIVOylA6MAhr0/k46MQhq0G+kE4PABr2yK0TYoLazUtzgH+nIGCxY4ad0ZAy84G/pyBj4kKHBtKDB/AwqK8hlIj+DT9KRMcwbxIcMDaYFDVZQtkzQYH4FlX1FaVC7QQ6Z/Az+kI6MYX7I8BhkwcTBC3LIpAWXCRpMHPNDhgZZMHFYUHtBDhntBWlQe0EaZMHEwQtu3F2CDJr+1RovmC7rZU1LfMikTeUAsmTwg7Fpgycmtg2WjG0bLDFusGBrveDHKyxmv6Ilb0XBO+kQnVK+aDWTDtEpq2+7clnk6Jx0hK5xE+kEXeO20gm6xvicKXAH6QRdY37QeHeUTtA1biGdoGsymKX210Pzo8b8eemuuLZ4lw7RKWvz14dP5q/xx7bvtH3t1Gi34t76/dKzPZts3lDcne8Ja9HiYWD82dPickMjYxZ3b5fPD2MqJnuDYLep368JrngcPko/s6+ledNp+Fg8att+LYeK+LGoriIt1jBo/9C0gC0eaDE98BM4VkwPVrRQkePGQkXc4oN0ZBRazNMiK6YHK1qoyHFjoSItWqiIW7yXjoySgUW8YgYWM6g4lI6Mgo8bdRVp0UJFWqxh3P6haYFbZMX0YEULFTluLFSkRQsVaZEVVcCKFiryVnGVV+nEMLBFZbufFQzRisp+ENhl8Lvc8LH4Ip03AqziXDpuDFhF6bRRQBWlw8aBjBvprJGEW3yXjhpLsMWNdNJoQpf++jeuVBBmUeVi8Y+gY7HmpUBFBFRct39K0rRWHDW/GKiElop9fRcWFa6Om556gyVXLPYMGCxptNg3YbCkwaIVgyW1Fi0MmS9qLFoyWFKpODJW0LnB6ltBjfdmWjnbQay3b/9zlUyms/58tNg+SwchhBBCCCGEEEIIUcFfTQxJ/rZcIZYAAAAASUVORK5CYII=" alt="back arrow" height="20" width="20"/>
            </button>
        </a>
        
    
    <script>
        document.getElementById("bar_form").style.visibility="hidden";
        function searchBar(){
            // alert("function called");
            document.getElementById("Submit").style.visibility = "hidden";
            document.getElementById("Plus").style.visibility = "hidden";
            document.getElementById("Cancel").style.visibility = "visible";
            document.getElementsByClassName('fprofpic')[0].style.visibility = "hidden";
            document.getElementsByClassName('pname')[0].style.visibility = "hidden";
            document.getElementById("bar_form").style.visibility="visible";
        }
        function searchBar1(){
            document.getElementById("Submit").style.visibility = "visible";
            document.getElementById("Plus").style.visibility = "visible";
            document.getElementById("Cancel").style.visibility = "hidden";
            document.getElementsByClassName('fprofpic')[0].style.visibility = "visible";
            document.getElementsByClassName('pname')[0].style.visibility = "visible";
            document.getElementById("bar_form").style.visibility="hidden";
        }

        function dropclick1() {
            var x = document.getElementById("arrowdrop");
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
        }

        (function(){
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function(){
                if (this.readyState == 4 && this.status == 200){
                    var myArr = JSON.parse(this.responseText);
                    console.log(myArr);
                    document.getElementById("fpname").innerHTML = myArr.user.firstname; 
                    document.getElementById("lpname").innerHTML = myArr.user.lastname;
                    document.getElementById("profile-pic").src = myArr.user.propic;
                    document.getElementById("fprofpic").src = myArr.user.propic;
                }
            }
            xhr.open("GET", 'http://71.174.243.29:8000/api/users/profile/<%=user%>', true);
            xhr.withCredentials = true;
            xhr.send();
        })();

        /*
        var name = "Sabeer Narula";
        var ppic = "https://upload.wikimedia.org/wikipedia/commons/7/71/Black.png";

        document.getElementById("pname").innerHTML = name;
        document.getElementById("profile-pic").src = ppic;
        document.getElementById("fprofpic").src = ppic;
        */
    </script>
</body>
</html>