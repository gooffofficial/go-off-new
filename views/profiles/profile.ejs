<!DOCTYPE html>
<html>
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-180244749-2"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-180244749-2');
    </script>
    <link id="pro-style" rel="stylesheet" href="/css/profile.css">
    <link href="//db.onlinewebfonts.com/c/eeb2719d248b27841be5f4899986eedc?family=Sentinel+Book" rel="stylesheet" type="text/css"/>
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous"> -->
    <!-- <script type="text/javascript" src="profile.js"></script> -->
<title>Profile Page</title>
</head>
<body onload="fillinVar()">
	<a href="https://www.gooffco.com/">
    	<div class="logo">
        	<img src="/GO_Off150.png" />
    	</div>
    </a>


    <div class="droparrow">
        <button style="border: 0;">
            <img onclick = "dropclick1()" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEX///8AAAB8fHzT09N+fn56enra2trW1tZxcXF0dHR3d3evr6/S0tJubm6CgoKtra1JiZe/AAADV0lEQVR4nO3c227bMAyA4TrnpNv6/m+7aZrqKGZs2daB1P7vdi4ggqRIocU+PgAAAAAAAAAAAAAAAAAAAAAAAID/we3a+gQbXG/p396H4VjuJIUch+Ge+u2fAIfBWhav7tCPtG9/Dn9dyp4os4s/dFKh3od/LGXxGg6dUKiP4ZudXjyOh14s1PvwxEoWr8+HXsjibYjY6MVLfOjZXnwMLywU6vH10DOF+vn6rYVCvU4P/fn+60kO9RfqZXrk89z3B2tZFDJ4mP8JIUTNvTjpwcUAjWVRyOBp+afOdnpR6MHFDDpCiDqzKGRw9pIZnWz0otCDCSXqCb2or1C3lqhnIMR9ARoYGlvGREx5L+7pwUD10Fi7qskUj/71q5pMbaHmKFFPaRZzZdBROTT2jomYcN20LlShRDdcMiN1vZivBwNlQyPPmIip6sW8PRgoWuD2r2oyoRfbDI1tL/oUSnqxTIl6Kl79OQf9lIKhkX9MxJovcGUz6DQeGiV7MGi6wOVe1WQNe7F0DwbNhkaJVU3W6Lopf8mMmixwpVY1WYMFrtyqJqs+NGqMiVjlBW77L1+2qzo0ao2JWMVCrV+iXrUQWwVYbWjUHROxKr3YpgeDCgtcvVVNVnyBq7mqyQoXatsS9YoucLVXNVnBodFuTMSKvfrrvOhTFOpFDT0YFBkaWkrUK9CLQoDNMuhkX+BarmqyzENDx5iIZe1FXT0YZFzg2q9qsmxDQ9OYiGXqRY09GAghru9FbWMilmGB07OqyXb3ot4eDHYOjdYv+hS7rhvNl8xoR6HqL1FvcxZtZNDZ+NLQuarJNi1wWlc12YZetNKDweos2sqgs3KB072qyVa9+vW96FOs6EVrPRgkL3AWVjVZ4nVj75IZJRWq1RL1EhY42wEmLHCWS9Rb+LubH9N/NnLJjGZ7UQjQVIl6M4Vqv0S9twucnffgkjcLnFCiJjPoiL3YRw8Gwo0q/C8/5m7RZ0Kh9lOinlCo/ZSotxSi+QCXQuwgQPG6+Wb6khm9z2IXGXTeZdH4LfpMzmI3GXSkELsKUAqxswCn201HPRgceg8wLtTuStQbQ/zV+iilnHoPMPRipyXqnfrOoHPuO4POV+sDAAAAAAAAAAAAAAAAAAAAAAAAoHe/AQQRFMg6Uc/3AAAAAElFTkSuQmCC" width="40" height="40" id="arrows" />
        <!--<button onclick="dropclick1()" class="dropbtn" >-->
            <!--<img onclick="dropclick1()" class="dropBtn" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEX///8AAAB8fHzT09N+fn56enra2trW1tZxcXF0dHR3d3evr6/S0tJubm6CgoKtra1JiZe/AAADV0lEQVR4nO3c227bMAyA4TrnpNv6/m+7aZrqKGZs2daB1P7vdi4ggqRIocU+PgAAAAAAAAAAAAAAAAAAAAAAAID/we3a+gQbXG/p396H4VjuJIUch+Ge+u2fAIfBWhav7tCPtG9/Dn9dyp4os4s/dFKh3od/LGXxGg6dUKiP4ZudXjyOh14s1PvwxEoWr8+HXsjibYjY6MVLfOjZXnwMLywU6vH10DOF+vn6rYVCvU4P/fn+60kO9RfqZXrk89z3B2tZFDJ4mP8JIUTNvTjpwcUAjWVRyOBp+afOdnpR6MHFDDpCiDqzKGRw9pIZnWz0otCDCSXqCb2or1C3lqhnIMR9ARoYGlvGREx5L+7pwUD10Fi7qskUj/71q5pMbaHmKFFPaRZzZdBROTT2jomYcN20LlShRDdcMiN1vZivBwNlQyPPmIip6sW8PRgoWuD2r2oyoRfbDI1tL/oUSnqxTIl6Kl79OQf9lIKhkX9MxJovcGUz6DQeGiV7MGi6wOVe1WQNe7F0DwbNhkaJVU3W6Lopf8mMmixwpVY1WYMFrtyqJqs+NGqMiVjlBW77L1+2qzo0ao2JWMVCrV+iXrUQWwVYbWjUHROxKr3YpgeDCgtcvVVNVnyBq7mqyQoXatsS9YoucLVXNVnBodFuTMSKvfrrvOhTFOpFDT0YFBkaWkrUK9CLQoDNMuhkX+BarmqyzENDx5iIZe1FXT0YZFzg2q9qsmxDQ9OYiGXqRY09GAghru9FbWMilmGB07OqyXb3ot4eDHYOjdYv+hS7rhvNl8xoR6HqL1FvcxZtZNDZ+NLQuarJNi1wWlc12YZetNKDweos2sqgs3KB072qyVa9+vW96FOs6EVrPRgkL3AWVjVZ4nVj75IZJRWq1RL1EhY42wEmLHCWS9Rb+LubH9N/NnLJjGZ7UQjQVIl6M4Vqv0S9twucnffgkjcLnFCiJjPoiL3YRw8Gwo0q/C8/5m7RZ0Kh9lOinlCo/ZSotxSi+QCXQuwgQPG6+Wb6khm9z2IXGXTeZdH4LfpMzmI3GXSkELsKUAqxswCn201HPRgceg8wLtTuStQbQ/zV+iilnHoPMPRipyXqnfrOoHPuO4POV+sDAAAAAAAAAAAAAAAAAAAAAAAAoHe/AQQRFMg6Uc/3AAAAAElFTkSuQmCC" width="20" height="20">
            --><div id="arrowdrop" class="dropdown-arrowcontent">
                <!-- <a href="/profile">Go to Profile</a> -->
                <a href="/profile_edit">Settings and Privacy</a>
                <!-- <p>Install Chrome Extension</p> -->
                <a href="https://www.go-off.co/">Log Out</a>
            </div>
        </button>
        <!--</button>--> 
    </div>


    <div class="pname" style= "display: inline-block">
        <h><span id="pname"></span></h>
    </div>


    

    <div class="fprofpic">
        <img id="fprofpic" src="https://miro.medium.com/max/316/1*LGHbA9o2BKka2obwwCAjWg.jpeg" class="img-circle" style=" width: auto; height:6%;"/>
    </div> 
    
    <!-- <button type="submit" id="Plus">
        <img src="/Plus.jpg" alt="add icon" height="65" width="50">
    </button> -->

    <button type="submit" id="Submit" onclick="searchBar()">
        <img src="/Search.png" alt= "profile icon 1" class="img-circle" style="width: 5%; height: auto; margin-left: 85%;">
    </button>

    <button id="Cancel" onclick="searchBar1()">Cancel</button>
    

    <!-- <form id="bar_form">
        <input type="text" id="search" style="display: block" placeholder="Filter">
    </form> -->


    <div id="line" style="top: 5%;"><hr></div>


    <div id="top-profile">
        <img id = "profile-pic" class="img-circle" style="width: auto; height:75%; top: 20%; left: 2%;"/>
        <h1 id="profile-name" >
        </h1>
        <h3 id="user-name"></h3>
        <div id="user-data">
            <h4 id= "follower-count" style="display: inline-block;"></h4>
            <h4 id = "following-count" style="display: inline-block;"></h4>
            <h4 id = "post-count" style="display: inline-block;"></h4>
            <img id = "location-logo" style = "display: inline" src = "https://cdn.iconscout.com/icon/free/png-256/location-1387-448334.png"/>
            <h4 id = "location" style="display: inline-block;"></h4>
        </div>
        <h4 id = "bio"></h4>
    </div>

<h1 id="articles"> Articles:</h1>


<div id="article-1">
	<a id="article1_link">
        <img id="article-1-image"/>
    </a>
    <a id="article1_link1">
        <h3 id="article-1-title"> </h3>
    </a>
	<a id="article1_link2">
		<h4 id="article-1-author"></h4>
	</a>
	<a id="article1_link3">
		<h4 id="article-1-read-time"> </h4>
    </a>
</div>
<div class="Chat1">
    <button onclick="passurl1()" id="Dot">
        Chat about this Article
    </button>
</div>
    
<div id="article-2">
	<!-- Need to find a way to get the first image from a post and use that as the thumbnail image automatically -->
	<a id="article2_link">
        <img id="article-2-image"/>
	</a>
	<a id="article2_link1">
		<h3 id="article-2-title"> </h3>
	</a>
	<a id="article2_link2">
		<h4 id="article-2-author"></h4>
	</a>
	<a id="article2_link3">
		<h4 id="article-2-read-time"> </h4>
    </a>
</div>
<div class="Chat2">
    <button onclick="passurl2()">
        Chat about this Article
    </button>
</div>

<div id="article-3">
	<!-- Need to find a way to get the first image from a post and use that as the thumbnail image automatically -->
	<a id="article3_link">
        <img id="article-3-image"/>
	</a>
	<a id="article3_link1">
		<h3 id="article-3-title"> </h3>
	</a>
	<a id="article3_link2">
		<h4 id="article-3-author"></h4>
	</a>
	<a id="article3_link3">
		<h4 id="article-3-read-time"> </h4>
    </a>
</div>
<div class="Chat3">
    <button onclick="passurl3()" id="Dot3">
        Chat about this Article
    </button>
</div>

<h1 id="user-articles"> User Articles:</h1>


<div id="user-article-1">
	<a id="user-article1_link">
        <img id="user-article-1-image"/>
    </a>
    <a id="user-article1_link1">
        <h3 id="user-article-1-title"> </h3>
    </a>
	<a id="user-article1_link2">
		<h4 id="user-article-1-author"></h4>
	</a>
	<a id="user-article1_link3">
		<h4 id="user-article-1-read-time"> </h4>
    </a>
</div>
<div class="user-Chat1" id="update1" style="display: none;">
    <form action="/api/users/add_article1" method="post" id="Dot3">
        <label for="url">Article Url:</label>
        <input type="text" id="url" name="article">
        <input type="submit" value="update">
    </form>
</div>
    
<div id="user-article-2">
	<!-- Need to find a way to get the first image from a post and use that as the thumbnail image automatically -->
	<a id="user-article2_link">
        <img id="user-article-2-image"/>
	</a>
	<a id="user-article2_link1">
		<h3 id="user-article-2-title"> </h3>
	</a>
	<a id="user-article2_link2">
		<h4 id="user-article-2-author"></h4>
	</a>
	<a id="user-article2_link3">
		<h4 id="user-article-2-read-time"> </h4>
    </a>
</div>
<div class="user-Chat2" id="update2" style="display: none;">
    <form action="/api/users/add_article2" method="post" id="Dot3">
        <label for="url">Article Url:</label>
        <input type="text" id="url" name="article">
        <input type="submit" value="update">
    </form>
</div>

<div id="user-article-3">
	<!-- Need to find a way to get the first image from a post and use that as the thumbnail image automatically -->
	<a id="user-article3_link">
        <img id="user-article-3-image"/>
	</a>
	<a id="user-article3_link1">
		<h3 id="user-article-3-title"> </h3>
	</a>
	<a id="user-article3_link2">
		<h4 id="user-article-3-author"></h4>
	</a>
	<a id="user-article3_link3">
		<h4 id="user-article-3-read-time"> </h4>
    </a>
</div>
<div class="user-Chat3" id="update3" style="display:none">
    <form action="/api/users/add_article3" method="post" id="Dot3">
        <label for="url">Article Url:</label>
        <input type="text" id="url" name="article">
        <input type="submit" value="update">
    </form>
</div>

<a href="https://www.gooffco.com/">
	<button type="submit" id="Home" >
    	<img src="/Home.png" alt="house icon" height="20" width="20"/>
    	Home
	</button>
</a>
</br>
<a href="https://docs.google.com/forms/d/e/1FAIpQLScRZFA4owbzMnqmcS2D02LMqHks2RhoQfvfwZpTpcGtOkWwLA/viewform">
    <button type="submit" id="Profile">
        <img src="https://i7.pngguru.com/preview/906/222/368/computer-icons-user-profile-avatar-french-people.jpg" alt="profile icon" height="20" width="20"/>
        Beta Sign Up
    </button>
</a>
</br>
<a href="Mailto:sn23@bu.edu" >
    <button type="submit" id="Contact">
        Contact us
    </button>
</a>
<!-- <button type="submit" id="Notification">
    <img src="https://freeiconshop.com/wp-content/uploads/edd/notification-outline.png" alt="notification icon" height="20" width="20"/>
    Notifications
</button> -->


<script>
    var hasTouchScreen = false;
    /*
        if ("maxTouchPoints" in navigator) { 
            hasTouchScreen = navigator.maxTouchPoints > 0;
        } else if ("msMaxTouchPoints" in navigator) {
            hasTouchScreen = navigator.msMaxTouchPoints > 0; 
        } else {
            var mQ = window.matchMedia && matchMedia("(pointer:coarse)");
            if (mQ && mQ.media === "(pointer:coarse)") {
                hasTouchScreen = !!mQ.matches;
            } else if ('orientation' in window) {
                hasTouchScreen = true; // deprecated, but good fallback
            } else {
                // Only as a last resort, fall back to user agent sniffing
                var UA = navigator.userAgent;
                hasTouchScreen = (
                    /\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(UA) ||
                    /\b(Android|Windows Phone|iPad|iPod)\b/i.test(UA)
                );
            }
        }
    */
    
    //NOTE: This is not the recommended way to detect mobile anymore, in the future
    // it will be better to just make the site responsive by default
    var UA = navigator.userAgent;
    hasTouchScreen = (
                    /\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(UA) ||
                    /\b(Android|Windows Phone|iPad|iPod)\b/i.test(UA)
                );
    if (hasTouchScreen == true){
        document.getElementById("pro-style").setAttribute('href', '/css/profile.css')
    }

    document.getElementById("bar_form").style.visibility="hidden";
    function searchBar(){
        document.getElementById("Submit").style.visibility = "hidden";
        // document.getElementById("Plus").style.visibility = "hidden";
        document.getElementById("Cancel").style.visibility = "visible";
        document.getElementsByClassName('fprofpic')[0].style.visibility = "hidden";
        document.getElementsByClassName('fpname')[0].style.visibility = "hidden";
        //document.getElementsByClassName('lpname')[0].style.visibility = "hidden";
        document.getElementById("bar_form").style.visibility="visible";
        document.getElementById("droparrow").style.display="none";
    }
    function searchBar1(){
        document.getElementById("Submit").style.visibility = "visible";
        // document.getElementById("Plus").style.visibility = "visible";
        document.getElementById("Cancel").style.visibility = "hidden";
        document.getElementsByClassName('fprofpic')[0].style.visibility = "visible";
        document.getElementsByClassName('fpname')[0].style.visibility = "visible";
        //document.getElementsByClassName('lpname')[0].style.visibility = "visible";
        document.getElementById("bar_form").style.visibility="hidden";
        document.getElementById("droparrow").style.display="block";
    }
    // function dropclick1() {
    //     document.getElementById("arrowdrop").classList.toggle("show");
    // }

    // $(window).resize(function() {
    //     console.log('window was resized');
    // });

    
    
    // window.onload = function() {
    //     var d = document.getElementsByTagName("profile-name")
    //     if (d.offsetHeight < d.scrollHeight ||
    //         d.offsetWidth < d.scrollWidth) {
    //     console.log("overflow");
    //     } else {
    //     console.log("no overflow");
    //     }
    // }

    // var arrow = document.getElementById("arrows");
    // arrow.addEventListener('click', function(){
    //     var x = document.getElementById("arrowdrop");
    //         if (x.style.display === "none") {
    //             x.style.display = "block";
    //         } else {
    //             x.style.display = "none";
    //         }
    // });
    
    function dropclick1() {
            // var x = document.getElementById("arrowdrop");
            // if (x.style.display === "none") {
            //     x.style.display = "block";
            // } else {
            //     x.style.display = "none";
            // }
            var x = document.getElementById("arrowdrop");
            if (x.style.display === "block") {
                x.style.display = "none";
            } else {
                x.style.display = "block";
            }
        }

    function passurl1(){
        var xhr1 = new XMLHttpRequest();
        xhr1.onreadystatechange = function() {
            // if (this.readyState == 4 && this.status == 200) {
                var idnum = JSON.parse(this.responseText);
                // console.log('the idnum set to', idnum.id);
                // socket.emit('room', idnum.id); //sets the room to that idnum returned
                
                console.log("hello");
                location.href="/chat/" + idnum.id;
            // }else{
            //     console.log("its not working");
            // }
        };
            console.log(document.getElementById("article1_link").href);
            xhr1.open("GET", '/api/chat/getid?article='+ document.getElementById("article1_link").href, true);
            xhr1.send();
    }
    function passurl2(){
        var xhr2 = new XMLHttpRequest();
        xhr2.onreadystatechange = function() {
            // if (this.readyState == 4 && this.status == 200) {
                var idnum = JSON.parse(this.responseText);
                // console.log('the idnum set to', idnum.id);
                // socket.emit('room', idnum.id); //sets the room to that idnum returned
                
                console.log("hello");
                location.href="/chat/" + idnum.id;
            // }else{
            //     console.log("its not working");
            // }
        };
            console.log(document.getElementById("article1_link").href);
            xhr2.open("GET", '/api/chat/getid?article='+ document.getElementById("article2_link").href, true);
            xhr2.send();
    }
    function passurl3(){
        var xhr3 = new XMLHttpRequest();
        xhr3.onreadystatechange = function() {
            // if (this.readyState == 4 && this.status == 200) {
                var idnum = JSON.parse(this.responseText);
                // console.log('the idnum set to', idnum.id);
                // socket.emit('room', idnum.id); //sets the room to that idnum returned
                
                console.log("hello");
                location.href="/chat/" + idnum.id;
            // }else{
            //     console.log("its not working");
            // }
        };
            console.log(document.getElementById("article3_link").href);
            xhr3.open("GET", '/api/chat/getid?article='+ document.getElementById("article3_link").href, true);
            xhr3.send();
    }
    function fillinVar(){
        (function(){
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    console.log(this.responseText)
                    var myArr = JSON.parse(this.responseText);
                    document.getElementById("pname").innerHTML = myArr.user.firstname + " " + myArr.user.lastname; 
                    document.getElementById("profile-name").innerHTML = myArr.user.firstname + " " + myArr.user.lastname + " " + myArr.user.admin;
                    document.getElementById("user-name").innerHTML = "@" + myArr.user.username;
                    document.getElementById("location").innerHTML = myArr.user.location;
                    document.getElementById("profile-pic").src = myArr.user.propic;
                    document.getElementById("fprofpic").src = myArr.user.propic;
                    document.getElementById("follower-count").innerHTML = myArr.user.followers + " " + " Followers";
                    document.getElementById("following-count").innerHTML = myArr.user.following + " Following";
                    document.getElementById("post-count").innerHTML = myArr.user.Posts + " Posts";
                    document.getElementById("location").innerHTML = myArr.user.location;
                    document.getElementById("bio").innerHTML = myArr.user.bio;
                    document.getElementById("article1_link").setAttribute("href", myArr.user.article1link);
                    document.getElementById("article1_link1").setAttribute("href", myArr.user.article1link);
                    document.getElementById("article1_link2").setAttribute("href", myArr.user.article1link);
                    document.getElementById("article1_link3").setAttribute("href", myArr.user.article1link);
                    document.getElementById("article-1-image").src = myArr.user.article1img;
                    document.getElementById("article-1-title").innerHTML = myArr.user.article1title;
                    document.getElementById("article-1-author").innerHTML = myArr.user.article1author;
                    document.getElementById("article-1-read-time").innerHTML = myArr.user.article1readtime;
                    document.getElementById("article2_link").setAttribute("href", myArr.user.article2link);
                    document.getElementById("article2_link1").setAttribute("href", myArr.user.article2link);
                    document.getElementById("article2_link2").setAttribute("href", myArr.user.article2link);
                    document.getElementById("article2_link3").setAttribute("href", myArr.user.article2link);
                    document.getElementById("article-2-image").src = myArr.user.article2img;
                    document.getElementById("article-2-title").innerHTML = myArr.user.article2title;
                    document.getElementById("article-2-author").innerHTML = myArr.user.article2author;
                    document.getElementById("article-2-read-time").innerHTML = myArr.user.article2readtime;
                    document.getElementById("article3_link").setAttribute("href", myArr.user.article3link);
                    document.getElementById("article3_link1").setAttribute("href", myArr.user.article3link);
                    document.getElementById("article3_link2").setAttribute("href", myArr.user.article3link);
                    document.getElementById("article3_link3").setAttribute("href", myArr.user.article3link);
                    document.getElementById("article-3-image").src = myArr.user.article3img;
                    document.getElementById("article-3-title").innerHTML = myArr.user.article3title;
                    document.getElementById("article-3-author").innerHTML = myArr.user.article3author;
                    document.getElementById("article-3-read-time").innerHTML = myArr.user.article3readtime;
                    test();
                }
            };
            xhr.open("GET", '/api/users/profile/<%=user%>', true);
            xhr.withCredentials = true;
            xhr.send();

            var xhr2 = new XMLHttpRequest();
            xhr2.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200){
                    userArticles = JSON.parse(this.responseText);
                    document.getElementById("user-article1_link").setAttribute("href", userArticles.article1Url);
                    document.getElementById("user-article1_link1").setAttribute("href", userArticles.article1Url);
                    document.getElementById("user-article1_link2").setAttribute("href", userArticles.article1Url);
                    document.getElementById("user-article1_link3").setAttribute("href", userArticles.article1Url);
                    document.getElementById("user-article-1-image").src = userArticles.article1img;
                    document.getElementById("user-article-1-title").innerHTML = userArticles.article1Title;
                    //document.getElementById("user-article-1-read-time").innerHTML = userArticles.article1Readtime+" min";
                    document.getElementById("user-article2_link").setAttribute("href", userArticles.article2Url);
                    document.getElementById("user-article2_link1").setAttribute("href", userArticles.article2Url);
                    document.getElementById("user-article2_link2").setAttribute("href", userArticles.article2Url);
                    document.getElementById("user-article2_link3").setAttribute("href", userArticles.article2Url);
                    document.getElementById("user-article-2-image").src = userArticles.article2img;
                    document.getElementById("user-article-2-title").innerHTML = userArticles.article2Title;
                    //document.getElementById("user-article-2-read-time").innerHTML = userArticles.article2Readtime+" min";
                    document.getElementById("user-article3_link").setAttribute("href", userArticles.article3Url);
                    document.getElementById("user-article3_link1").setAttribute("href", userArticles.article3Url);
                    document.getElementById("user-article3_link2").setAttribute("href", userArticles.article3Url);
                    document.getElementById("user-article3_link3").setAttribute("href", userArticles.article3Url);
                    document.getElementById("user-article-3-image").src = userArticles.article3img;
                    document.getElementById("user-article-3-title").innerHTML = userArticles.article3Title;
                    //document.getElementById("user-article-3-read-time").innerHTML = userArticles.article3Readtime + "min";
                }
            }
            xhr2.open("GET", '/api/users/articles/<%=user%>', true);
            xhr2.withCredentials = true;
            xhr2.send();

            var xhr3 = new XMLHttpRequest();
            xhr3.onreadystatechange = function(){
                if (this.readyState == 4 && this.status == 200){
                    var userArr = JSON.parse(this.responseText);
                    if("<%=user%>" == userArr.user.username){
                        document.getElementById("update1").style.display='';
                        document.getElementById("update2").style.display='';
                        document.getElementById("update3").style.display='';
                    }
                }
            }
            xhr3.open("GET", '/api/users/current', true);
            xhr3.withCredentials = true;
            xhr3.send();
    // fetch('http://localhost:8000/api/users/current').then(r => r.text()).then(result => {
    // document.getElementById("username").innerHTML = result.user.name;
    // console.log(result.user.name);
    // hold = document.getElementById("username");
    // console.log('hold', hold);
// })       
             console.log(myArr.user.admin);
        })();
        // document.getElementById("pname").innerHTML = result.user.name;
        
        function test(){
            len = document.getElementById("profile-name").textContent.length;
            len = len-1;
            if(len <= 10){
                // console.log("test 45 10%");
                document.getElementById("profile-name").style.top = "10%";
                document.getElementById("profile-name").style.fontSize = "45px";
            }else if(len <=20 && len > 10){
                // console.log("test1 35 20%");
                document.getElementById("profile-name").style.top = "20%";
                document.getElementById("profile-name").style.fontSize = "35px";
            }else{
                // console.log("test2 20 30%");
                document.getElementById("profile-name").style.top = "30%";
                document.getElementById("profile-name").style.fontSize = "20px";
            }
        }
    }

    
    </script>

</body>
</html>